/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _app = __webpack_require__(1);
	
	var _app2 = _interopRequireDefault(_app);
	
	var _app3 = __webpack_require__(2);
	
	var _app4 = _interopRequireDefault(_app3);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	/* variables globals */
	/*
	@package godofredoninja
	
	========================================================================
	Mapache Javascript Functions
	========================================================================
	*/
	
	// import external dependencies
	// import ghostHunter from './lib/jquery.ghostHunter'; // eslint-disable-line
	
	// import local dependencies
	var $doc = $(document);
	var $win = $(window);
	
	var $header = $('#header');
	var $searchInput = $('.search-field');
	var $cover = $('#cover');
	var $postBody = $('.post-body');
	var $followBox = $('.social_box');
	var $scrollTop = $('.scroll_top');
	var $videoFormatBox = $('#video-format');
	var $shareCount = $('.share-count');
	var $share = $('.share');
	
	var $pageUrl = $('body').attr('mapache-page-url');
	
	var urlRegexp = /^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \+\.-]*)*\/?$/; // eslint-disable-line
	
	/* Menu open and close for mobile */
	$('#nav-mob-toggle').on('click', function (e) {
	  e.preventDefault();
	  $('body').toggleClass('is-showNavMob');
	});
	
	/* Seach open and close for Mobile */
	$('#search-mob-toggle').on('click', function (e) {
	  e.preventDefault();
	  $header.toggleClass('is-showSearchMob');
	  $searchInput.focus();
	});
	
	/**
	 * Search open an close desktop.
	 * Api ghost for search
	 */
	$doc.on('ready', function () {
	  $searchInput.focus(function () {
	    $header.addClass('is-showSearch');
	    $('.search-popout').removeClass('closed');
	  }).blur(function () {
	    setTimeout(function () {
	      $header.removeClass('is-showSearch');
	      $('.search-popout').addClass('closed');
	    }, 200);
	  }).keyup(function () {
	    $('.search-suggest-results').css('display', 'block');
	  });
	
	  // $searchInput.ghostHunter({
	  //   results: '#search-results',
	  //   zeroResultsInfo: false,
	  //   displaySearchInfo: false,
	  //   result_template: `<a href="${$pageUrl}{{link}}">{{title}}</a>`,
	  //   onKeyUp: true,
	  // });
	});
	
	/* Header box shadow and transparent */
	function headerBackground() {
	  var scrollTop = $win.scrollTop();
	  var coverHeight = $cover.height() - $header.height();
	  var coverWrap = (coverHeight - scrollTop) / coverHeight;
	  if (scrollTop >= coverHeight) {
	    $header.addClass('toolbar-shadow').removeAttr('style');
	  } else {
	    $header.removeClass('toolbar-shadow').css({ background: 'transparent' });
	  }
	  $('.cover-wrap').css('opacity', coverWrap);
	}
	
	/* scroll link width click (ID)*/
	$('.scrolltop').on('click', function (e) {
	  e.preventDefault();
	  $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top - 50 }, 500, 'linear');
	});
	
	/* Scroll  */
	$scrollTop.on('click', function (e) {
	  e.preventDefault();
	  $('html, body').animate({ scrollTop: 0 }, 500);
	});
	
	/* Disqus Comment */
	function disqusComments(shortname) {
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}
	
	/* Video Post Format */
	function videoPostFormat() {
	  $('.post-image').css('display', 'none');
	  var video = $('iframe[src*="youtube.com"]')[0];
	  $videoFormatBox.find('.video-featured').prepend(video);
	
	  if (typeof youtubeChannel !== 'undefined') {
	    $videoFormatBox.find('.video-content').removeAttr('style');
	
	    $.each(youtubeChannel, function (channelName, channelId) {
	      // eslint-disable-line
	      $videoFormatBox.find('.channel-name').html('Subscribe to <strong>' + channelName + '</strong>');
	      $('.g-ytsubscribe').attr('data-channelid', channelId);
	    });
	
	    var go = document.createElement('script');
	    go.type = 'text/javascript';
	    go.async = true;
	    go.src = 'https://apis.google.com/js/platform.js';
	    // document.body.appendChild(go);
	    var s = document.getElementsByTagName('script')[0];
	    s.parentNode.insertBefore(go, s);
	  }
	}
	
	$win.on('scroll', function () {
	  /* Add background Header */
	  if ($cover.length > 0) headerBackground();
	
	  /* show btn SctrollTop */
	  if ($(this).scrollTop() > 100) {
	    $scrollTop.addClass('visible');
	  } else {
	    $scrollTop.removeClass('visible');
	  }
	});
	
	$doc.on('ready', function () {
	  /* Change title home */
	  if (typeof titleHome !== 'undefined') $('#title-home').html(titleHome); // eslint-disable-line
	
	  /* FollowMe */
	  if (typeof followSocialMedia !== 'undefined') _app2.default.follow(followSocialMedia, $followBox, urlRegexp); // eslint-disable-line
	
	  /* Facebook Share Count */
	  _app2.default.facebookShare($shareCount);
	
	  /* Video Post Format*/
	  videoPostFormat();
	
	  /* Video Responsive*/
	  _app2.default.videoResponsive($postBody);
	
	  /* Share article in Social media */
	  $share.bind('click', function (e) {
	    e.preventDefault();
	    var share = new _app4.default($(this));
	    share.mapacheShare();
	  });
	
	  /* Disqys Comments */
	  if (typeof disqusShortname !== 'undefined') disqusComments(disqusShortname); // eslint-disable-line
	});

/***/ },
/* 1 */
/***/ function(module, exports) {

	'use strict';
	
	/* Return rounded and pretty value of share count. */
	var convertNumber = function convertNumber(n) {
	  if (n >= 1000000000) return (n / 1000000000).toFixed(1) + 'G';
	  if (n >= 1000000) return (n / 1000000).toFixed(1) + 'M';
	  if (n >= 1000) return (n / 1000).toFixed(1) + 'K';
	  return n;
	};
	
	/* add social follow  */
	function followMe(links, box, urlRegexp) {
	  return $.each(links, function (name, url) {
	    if (typeof url === 'string' && urlRegexp.test(url)) {
	      var template = '<a title="' + name + '" href="' + url + '" target="_blank" class="i-' + name + '"></a>';
	      box.append(template);
	    }
	  });
	}
	
	/* search all video in <post-body>  for Responsive*/
	function allVideoResponsive(elem) {
	  return elem.each(function () {
	    var selectors = ['iframe[src*="player.vimeo.com"]', 'iframe[src*="youtube.com"]', 'iframe[src*="youtube-nocookie.com"]', 'iframe[src*="kickstarter.com"][src*="video.html"]'];
	
	    var $allVideos = $(this).find(selectors.join(','));
	
	    $allVideos.each(function () {
	      $(this).wrap('<aside class="video-responsive"></aside>');
	    });
	  });
	}
	
	/* Facebook Comments Counts */
	function facebookShareCount(sharebox) {
	  sharebox.each(function () {
	    var url = sharebox.attr('godo-url');
	    var getURL = 'https://graph.facebook.com/?id=' + encodeURIComponent(url) + '&callback=?';
	
	    $.getJSON(getURL, function (res) {
	      if (res.share !== undefined) {
	        var n = res.share.share_count;
	        var count = convertNumber(n);
	        sharebox.html(count);
	      }
	    });
	  });
	}
	
	module.exports = {
	  follow: followMe,
	  videoResponsive: allVideoResponsive,
	  facebookShare: facebookShareCount
	};

/***/ },
/* 2 */
/***/ function(module, exports) {

	'use strict';
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	/*
	* @package godofredoninja
	* Share social media
	*/
	
	var mapacheShare = function () {
	  function mapacheShare(elem) {
	    _classCallCheck(this, mapacheShare);
	
	    this.elem = elem;
	  }
	
	  /**
	   * @description Helper to get the attribute of a DOM element
	   * @param {String} attr DOM element attribute
	   * @returns {String|Empty} returns the attr value or empty string
	   */
	
	
	  _createClass(mapacheShare, [{
	    key: 'mapacheValue',
	    value: function mapacheValue(a) {
	      var val = this.elem.attr('mapache-' + a);
	      return val === undefined || val === null ? false : val;
	    }
	
	    /**
	     * @description Main share event. Will pop a window or redirect to a link
	     */
	
	  }, {
	    key: 'mapacheShare',
	    value: function mapacheShare() {
	      var socialMediaName = this.mapacheValue('share').toLowerCase();
	
	      var socialMedia = {
	        facebook: {
	          shareUrl: 'https://www.facebook.com/sharer/sharer.php',
	          params: {
	            url: this.mapacheValue('url')
	          }
	        },
	        twitter: {
	          shareUrl: 'https://twitter.com/intent/tweet/',
	          params: {
	            text: this.mapacheValue('title'),
	            url: this.mapacheValue('url')
	          }
	        },
	        reddit: {
	          shareUrl: 'https://www.reddit.com/submit',
	          params: {
	            url: this.mapacheValue('url')
	          }
	        },
	        pinterest: {
	          shareUrl: 'https://www.pinterest.com/pin/create/button/',
	          params: {
	            url: this.mapacheValue('url'),
	            description: this.mapacheValue('title')
	          }
	        },
	        linkedin: {
	          shareUrl: 'https://www.linkedin.com/shareArticle',
	          params: {
	            url: this.mapacheValue('url'),
	            mini: true
	          }
	        },
	        pocket: {
	          shareUrl: 'https://getpocket.com/save',
	          params: {
	            url: this.mapacheValue('url')
	          }
	        }
	      };
	
	      var social = socialMedia[socialMediaName];
	
	      return social !== undefined ? this.mapachePopup(social) : false;
	    }
	
	    /* windows Popup */
	
	  }, {
	    key: 'mapachePopup',
	    value: function mapachePopup(share) {
	      var p = share.params || {};
	      var keys = Object.keys(p);
	
	      var socialMediaUrl = share.shareUrl;
	      var str = keys.length > 0 ? '?' : '';
	
	      for (var i in keys) {
	        if (str !== '?') {
	          str += '&';
	        }
	        if (p[keys[i]]) {
	          str += keys[i] + '=' + encodeURIComponent(p[keys[i]]);
	        }
	      }
	
	      socialMediaUrl += str;
	
	      if (!share.isLink) {
	        var popWidth = 600;
	        var popHeight = 480;
	        var left = window.innerWidth / 2 - popWidth / 2 + window.screenX;
	        var top = window.innerHeight / 2 - popHeight / 2 + window.screenY;
	
	        var popParams = 'scrollbars=no, width=' + popWidth + ', height=' + popHeight + ', top=' + top + ', left=' + left;
	        var newWindow = window.open(socialMediaUrl, '', popParams);
	
	        if (window.focus) {
	          newWindow.focus();
	        }
	      } else {
	        window.location.href = socialMediaUrl;
	      }
	    }
	  }]);
	
	  return mapacheShare;
	}();
	
	/* Export Class */
	
	
	module.exports = mapacheShare;

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMzNhODdlODdiYzJiYWM3MDBkMmIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvYXBwL2FwcC5oZWxwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FwcC9hcHAuc2hhcmUuanMiXSwibmFtZXMiOlsiJGRvYyIsIiQiLCJkb2N1bWVudCIsIiR3aW4iLCJ3aW5kb3ciLCIkaGVhZGVyIiwiJHNlYXJjaElucHV0IiwiJGNvdmVyIiwiJHBvc3RCb2R5IiwiJGZvbGxvd0JveCIsIiRzY3JvbGxUb3AiLCIkdmlkZW9Gb3JtYXRCb3giLCIkc2hhcmVDb3VudCIsIiRzaGFyZSIsIiRwYWdlVXJsIiwiYXR0ciIsInVybFJlZ2V4cCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlQ2xhc3MiLCJmb2N1cyIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJibHVyIiwic2V0VGltZW91dCIsImtleXVwIiwiY3NzIiwiaGVhZGVyQmFja2dyb3VuZCIsInNjcm9sbFRvcCIsImNvdmVySGVpZ2h0IiwiaGVpZ2h0IiwiY292ZXJXcmFwIiwicmVtb3ZlQXR0ciIsImJhY2tncm91bmQiLCJhbmltYXRlIiwib2Zmc2V0IiwidG9wIiwiZGlzcXVzQ29tbWVudHMiLCJzaG9ydG5hbWUiLCJkc3EiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImFzeW5jIiwic3JjIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsInZpZGVvUG9zdEZvcm1hdCIsInZpZGVvIiwiZmluZCIsInByZXBlbmQiLCJ5b3V0dWJlQ2hhbm5lbCIsImVhY2giLCJjaGFubmVsTmFtZSIsImNoYW5uZWxJZCIsImh0bWwiLCJnbyIsInMiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwibGVuZ3RoIiwidGl0bGVIb21lIiwiZm9sbG93U29jaWFsTWVkaWEiLCJmb2xsb3ciLCJmYWNlYm9va1NoYXJlIiwidmlkZW9SZXNwb25zaXZlIiwiYmluZCIsInNoYXJlIiwibWFwYWNoZVNoYXJlIiwiZGlzcXVzU2hvcnRuYW1lIiwiY29udmVydE51bWJlciIsIm4iLCJ0b0ZpeGVkIiwiZm9sbG93TWUiLCJsaW5rcyIsImJveCIsIm5hbWUiLCJ1cmwiLCJ0ZXN0IiwidGVtcGxhdGUiLCJhcHBlbmQiLCJhbGxWaWRlb1Jlc3BvbnNpdmUiLCJlbGVtIiwic2VsZWN0b3JzIiwiJGFsbFZpZGVvcyIsImpvaW4iLCJ3cmFwIiwiZmFjZWJvb2tTaGFyZUNvdW50Iiwic2hhcmVib3giLCJnZXRVUkwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJnZXRKU09OIiwicmVzIiwidW5kZWZpbmVkIiwic2hhcmVfY291bnQiLCJjb3VudCIsIm1vZHVsZSIsImV4cG9ydHMiLCJhIiwidmFsIiwic29jaWFsTWVkaWFOYW1lIiwibWFwYWNoZVZhbHVlIiwidG9Mb3dlckNhc2UiLCJzb2NpYWxNZWRpYSIsImZhY2Vib29rIiwic2hhcmVVcmwiLCJwYXJhbXMiLCJ0d2l0dGVyIiwidGV4dCIsInJlZGRpdCIsInBpbnRlcmVzdCIsImRlc2NyaXB0aW9uIiwibGlua2VkaW4iLCJtaW5pIiwicG9ja2V0Iiwic29jaWFsIiwibWFwYWNoZVBvcHVwIiwicCIsImtleXMiLCJPYmplY3QiLCJzb2NpYWxNZWRpYVVybCIsInN0ciIsImkiLCJpc0xpbmsiLCJwb3BXaWR0aCIsInBvcEhlaWdodCIsImxlZnQiLCJpbm5lcldpZHRoIiwic2NyZWVuWCIsImlubmVySGVpZ2h0Iiwic2NyZWVuWSIsInBvcFBhcmFtcyIsIm5ld1dpbmRvdyIsIm9wZW4iLCJsb2NhdGlvbiIsImhyZWYiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVB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QyxPQUFPNkgsV0FBUCxHQUFxQixDQUF0QixHQUE0QkosWUFBWSxDQUF6QyxHQUErQ3pILE9BQU84SCxPQUFsRTs7QUFFQSxhQUFNQyxzQ0FBb0NQLFFBQXBDLGlCQUF3REMsU0FBeEQsY0FBMEV4RixHQUExRSxlQUF1RnlGLElBQTdGO0FBQ0EsYUFBTU0sWUFBWWhJLE9BQU9pSSxJQUFQLENBQVliLGNBQVosRUFBNEIsRUFBNUIsRUFBZ0NXLFNBQWhDLENBQWxCOztBQUVBLGFBQUkvSCxPQUFPaUIsS0FBWCxFQUFrQjtBQUNoQitHLHFCQUFVL0csS0FBVjtBQUNEO0FBQ0YsUUFaRCxNQVlPO0FBQ0xqQixnQkFBT2tJLFFBQVAsQ0FBZ0JDLElBQWhCLEdBQXVCZixjQUF2QjtBQUNEO0FBQ0Y7Ozs7OztBQUdIOzs7QUFDQXhCLFFBQU9DLE9BQVAsR0FBaUI3QixZQUFqQixDIiwiZmlsZSI6ImJ1bmRsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAzM2E4N2U4N2JjMmJhYzcwMGQyYiIsIi8qXG5AcGFja2FnZSBnb2RvZnJlZG9uaW5qYVxuXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbk1hcGFjaGUgSmF2YXNjcmlwdCBGdW5jdGlvbnNcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKi9cblxuLy8gaW1wb3J0IGV4dGVybmFsIGRlcGVuZGVuY2llc1xuLy8gaW1wb3J0IGdob3N0SHVudGVyIGZyb20gJy4vbGliL2pxdWVyeS5naG9zdEh1bnRlcic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuLy8gaW1wb3J0IGxvY2FsIGRlcGVuZGVuY2llc1xuaW1wb3J0IE1hcGFjaGUgZnJvbSAnLi9hcHAvYXBwLmhlbHBlcic7XG5pbXBvcnQgU2hhcmUgZnJvbSAnLi9hcHAvYXBwLnNoYXJlJztcblxuLyogdmFyaWFibGVzIGdsb2JhbHMgKi9cbmNvbnN0ICRkb2MgPSAkKGRvY3VtZW50KTtcbmNvbnN0ICR3aW4gPSAkKHdpbmRvdyk7XG5cbmNvbnN0ICRoZWFkZXIgPSAkKCcjaGVhZGVyJyk7XG5jb25zdCAkc2VhcmNoSW5wdXQgPSAkKCcuc2VhcmNoLWZpZWxkJyk7XG5jb25zdCAkY292ZXIgPSAkKCcjY292ZXInKTtcbmNvbnN0ICRwb3N0Qm9keSA9ICQoJy5wb3N0LWJvZHknKTtcbmNvbnN0ICRmb2xsb3dCb3ggPSAkKCcuc29jaWFsX2JveCcpO1xuY29uc3QgJHNjcm9sbFRvcCA9ICQoJy5zY3JvbGxfdG9wJyk7XG5jb25zdCAkdmlkZW9Gb3JtYXRCb3ggPSAkKCcjdmlkZW8tZm9ybWF0Jyk7XG5jb25zdCAkc2hhcmVDb3VudCA9ICQoJy5zaGFyZS1jb3VudCcpO1xuY29uc3QgJHNoYXJlID0gJCgnLnNoYXJlJyk7XG5cbmNvbnN0ICRwYWdlVXJsID0gJCgnYm9keScpLmF0dHIoJ21hcGFjaGUtcGFnZS11cmwnKTtcblxuY29uc3QgdXJsUmVnZXhwID0gL14oaHR0cHM/OlxcL1xcLyk/KFtcXGRhLXpcXC4tXSspXFwuKFthLXpcXC5dezIsNn0pKFtcXC9cXHcgXFwrXFwuLV0qKSpcXC8/JC87IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuLyogTWVudSBvcGVuIGFuZCBjbG9zZSBmb3IgbW9iaWxlICovXG4kKCcjbmF2LW1vYi10b2dnbGUnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICQoJ2JvZHknKS50b2dnbGVDbGFzcygnaXMtc2hvd05hdk1vYicpO1xufSk7XG5cbi8qIFNlYWNoIG9wZW4gYW5kIGNsb3NlIGZvciBNb2JpbGUgKi9cbiQoJyNzZWFyY2gtbW9iLXRvZ2dsZScpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgJGhlYWRlci50b2dnbGVDbGFzcygnaXMtc2hvd1NlYXJjaE1vYicpO1xuICAkc2VhcmNoSW5wdXQuZm9jdXMoKTtcbn0pO1xuXG4vKipcbiAqIFNlYXJjaCBvcGVuIGFuIGNsb3NlIGRlc2t0b3AuXG4gKiBBcGkgZ2hvc3QgZm9yIHNlYXJjaFxuICovXG4kZG9jLm9uKCdyZWFkeScsICgpID0+IHtcbiAgJHNlYXJjaElucHV0XG4gICAgLmZvY3VzKCgpID0+IHtcbiAgICAgICRoZWFkZXIuYWRkQ2xhc3MoJ2lzLXNob3dTZWFyY2gnKTtcbiAgICAgICQoJy5zZWFyY2gtcG9wb3V0JykucmVtb3ZlQ2xhc3MoJ2Nsb3NlZCcpO1xuICAgIH0pXG4gICAgLmJsdXIoKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICRoZWFkZXIucmVtb3ZlQ2xhc3MoJ2lzLXNob3dTZWFyY2gnKTtcbiAgICAgICAgJCgnLnNlYXJjaC1wb3BvdXQnKS5hZGRDbGFzcygnY2xvc2VkJyk7XG4gICAgICB9LCAyMDApO1xuICAgIH0pXG4gICAgLmtleXVwKCgpID0+IHtcbiAgICAgICQoJy5zZWFyY2gtc3VnZ2VzdC1yZXN1bHRzJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgfSk7XG5cbiAgLy8gJHNlYXJjaElucHV0Lmdob3N0SHVudGVyKHtcbiAgLy8gICByZXN1bHRzOiAnI3NlYXJjaC1yZXN1bHRzJyxcbiAgLy8gICB6ZXJvUmVzdWx0c0luZm86IGZhbHNlLFxuICAvLyAgIGRpc3BsYXlTZWFyY2hJbmZvOiBmYWxzZSxcbiAgLy8gICByZXN1bHRfdGVtcGxhdGU6IGA8YSBocmVmPVwiJHskcGFnZVVybH17e2xpbmt9fVwiPnt7dGl0bGV9fTwvYT5gLFxuICAvLyAgIG9uS2V5VXA6IHRydWUsXG4gIC8vIH0pO1xufSk7XG5cbi8qIEhlYWRlciBib3ggc2hhZG93IGFuZCB0cmFuc3BhcmVudCAqL1xuZnVuY3Rpb24gaGVhZGVyQmFja2dyb3VuZCgpIHtcbiAgY29uc3Qgc2Nyb2xsVG9wID0gJHdpbi5zY3JvbGxUb3AoKTtcbiAgY29uc3QgY292ZXJIZWlnaHQgPSAkY292ZXIuaGVpZ2h0KCkgLSAkaGVhZGVyLmhlaWdodCgpO1xuICBjb25zdCBjb3ZlcldyYXAgPSAoY292ZXJIZWlnaHQgLSBzY3JvbGxUb3ApIC8gY292ZXJIZWlnaHQ7XG4gIGlmIChzY3JvbGxUb3AgPj0gY292ZXJIZWlnaHQpIHtcbiAgICAkaGVhZGVyLmFkZENsYXNzKCd0b29sYmFyLXNoYWRvdycpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gIH0gZWxzZSB7XG4gICAgJGhlYWRlci5yZW1vdmVDbGFzcygndG9vbGJhci1zaGFkb3cnKS5jc3MoeyBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnIH0pO1xuICB9XG4gICQoJy5jb3Zlci13cmFwJykuY3NzKCdvcGFjaXR5JywgY292ZXJXcmFwKTtcbn1cblxuLyogc2Nyb2xsIGxpbmsgd2lkdGggY2xpY2sgKElEKSovXG4kKCcuc2Nyb2xsdG9wJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogJCgkKHRoaXMpLmF0dHIoJ2hyZWYnKSkub2Zmc2V0KCkudG9wIC0gNTAgfSwgNTAwLCAnbGluZWFyJyk7XG59KTtcblxuLyogU2Nyb2xsICAqL1xuJHNjcm9sbFRvcC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDUwMCk7XG59KTtcblxuLyogRGlzcXVzIENvbW1lbnQgKi9cbmZ1bmN0aW9uIGRpc3F1c0NvbW1lbnRzKHNob3J0bmFtZSkge1xuICBjb25zdCBkc3EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgZHNxLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgZHNxLmFzeW5jID0gdHJ1ZTtcbiAgZHNxLnNyYyA9IGAvLyR7c2hvcnRuYW1lfS5kaXNxdXMuY29tL2VtYmVkLmpzYDtcbiAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0gfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSkuYXBwZW5kQ2hpbGQoZHNxKTtcbn1cblxuLyogVmlkZW8gUG9zdCBGb3JtYXQgKi9cbmZ1bmN0aW9uIHZpZGVvUG9zdEZvcm1hdCgpIHtcbiAgJCgnLnBvc3QtaW1hZ2UnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICBjb25zdCB2aWRlbyA9ICQoJ2lmcmFtZVtzcmMqPVwieW91dHViZS5jb21cIl0nKVswXTtcbiAgJHZpZGVvRm9ybWF0Qm94LmZpbmQoJy52aWRlby1mZWF0dXJlZCcpLnByZXBlbmQodmlkZW8pO1xuXG4gIGlmICh0eXBlb2YgeW91dHViZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgJHZpZGVvRm9ybWF0Qm94LmZpbmQoJy52aWRlby1jb250ZW50JykucmVtb3ZlQXR0cignc3R5bGUnKTtcblxuICAgICQuZWFjaCh5b3V0dWJlQ2hhbm5lbCwgKGNoYW5uZWxOYW1lLCBjaGFubmVsSWQpID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgJHZpZGVvRm9ybWF0Qm94LmZpbmQoJy5jaGFubmVsLW5hbWUnKS5odG1sKGBTdWJzY3JpYmUgdG8gPHN0cm9uZz4ke2NoYW5uZWxOYW1lfTwvc3Ryb25nPmApO1xuICAgICAgJCgnLmcteXRzdWJzY3JpYmUnKS5hdHRyKCdkYXRhLWNoYW5uZWxpZCcsIGNoYW5uZWxJZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBnbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIGdvLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICBnby5hc3luYyA9IHRydWU7XG4gICAgZ28uc3JjID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL3BsYXRmb3JtLmpzJztcbiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdvKTtcbiAgICBjb25zdCBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xuICAgIHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ28sIHMpO1xuICB9XG59XG5cblxuJHdpbi5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAvKiBBZGQgYmFja2dyb3VuZCBIZWFkZXIgKi9cbiAgaWYgKCRjb3Zlci5sZW5ndGggPiAwKSBoZWFkZXJCYWNrZ3JvdW5kKCk7XG5cbiAgLyogc2hvdyBidG4gU2N0cm9sbFRvcCAqL1xuICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDEwMCkge1xuICAgICRzY3JvbGxUb3AuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgfSBlbHNlIHtcbiAgICAkc2Nyb2xsVG9wLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gIH1cbn0pO1xuXG5cbiRkb2Mub24oJ3JlYWR5JywgKCkgPT4ge1xuICAvKiBDaGFuZ2UgdGl0bGUgaG9tZSAqL1xuICBpZiAodHlwZW9mIHRpdGxlSG9tZSAhPT0gJ3VuZGVmaW5lZCcpICQoJyN0aXRsZS1ob21lJykuaHRtbCh0aXRsZUhvbWUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgLyogRm9sbG93TWUgKi9cbiAgaWYgKHR5cGVvZiBmb2xsb3dTb2NpYWxNZWRpYSAhPT0gJ3VuZGVmaW5lZCcpIE1hcGFjaGUuZm9sbG93KGZvbGxvd1NvY2lhbE1lZGlhLCAkZm9sbG93Qm94LCB1cmxSZWdleHApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgLyogRmFjZWJvb2sgU2hhcmUgQ291bnQgKi9cbiAgTWFwYWNoZS5mYWNlYm9va1NoYXJlKCRzaGFyZUNvdW50KTtcblxuICAvKiBWaWRlbyBQb3N0IEZvcm1hdCovXG4gIHZpZGVvUG9zdEZvcm1hdCgpO1xuXG4gIC8qIFZpZGVvIFJlc3BvbnNpdmUqL1xuICBNYXBhY2hlLnZpZGVvUmVzcG9uc2l2ZSgkcG9zdEJvZHkpO1xuXG4gIC8qIFNoYXJlIGFydGljbGUgaW4gU29jaWFsIG1lZGlhICovXG4gICRzaGFyZS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHNoYXJlID0gbmV3IFNoYXJlKCQodGhpcykpO1xuICAgIHNoYXJlLm1hcGFjaGVTaGFyZSgpO1xuICB9KTtcblxuICAvKiBEaXNxeXMgQ29tbWVudHMgKi9cbiAgaWYgKHR5cGVvZiBkaXNxdXNTaG9ydG5hbWUgIT09ICd1bmRlZmluZWQnKSBkaXNxdXNDb21tZW50cyhkaXNxdXNTaG9ydG5hbWUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9hcHAuanMiLCIvKiBSZXR1cm4gcm91bmRlZCBhbmQgcHJldHR5IHZhbHVlIG9mIHNoYXJlIGNvdW50LiAqL1xuY29uc3QgY29udmVydE51bWJlciA9IChuKSA9PiB7XG4gIGlmIChuID49IDEwMDAwMDAwMDApIHJldHVybiBgJHsobiAvIDEwMDAwMDAwMDApLnRvRml4ZWQoMSl9R2A7XG4gIGlmIChuID49IDEwMDAwMDApIHJldHVybiBgJHsobiAvIDEwMDAwMDApLnRvRml4ZWQoMSl9TWA7XG4gIGlmIChuID49IDEwMDApIHJldHVybiBgJHsobiAvIDEwMDApLnRvRml4ZWQoMSl9S2A7XG4gIHJldHVybiBuO1xufTtcblxuLyogYWRkIHNvY2lhbCBmb2xsb3cgICovXG5mdW5jdGlvbiBmb2xsb3dNZShsaW5rcywgYm94LCB1cmxSZWdleHApIHtcbiAgcmV0dXJuICQuZWFjaChsaW5rcywgKG5hbWUsIHVybCkgPT4ge1xuICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyAmJiB1cmxSZWdleHAudGVzdCh1cmwpKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGA8YSB0aXRsZT1cIiR7bmFtZX1cIiBocmVmPVwiJHt1cmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCIgY2xhc3M9XCJpLSR7bmFtZX1cIj48L2E+YDtcbiAgICAgIGJveC5hcHBlbmQodGVtcGxhdGUpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qIHNlYXJjaCBhbGwgdmlkZW8gaW4gPHBvc3QtYm9keT4gIGZvciBSZXNwb25zaXZlKi9cbmZ1bmN0aW9uIGFsbFZpZGVvUmVzcG9uc2l2ZShlbGVtKSB7XG4gIHJldHVybiBlbGVtLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNlbGVjdG9ycyA9IFtcbiAgICAgICdpZnJhbWVbc3JjKj1cInBsYXllci52aW1lby5jb21cIl0nLFxuICAgICAgJ2lmcmFtZVtzcmMqPVwieW91dHViZS5jb21cIl0nLFxuICAgICAgJ2lmcmFtZVtzcmMqPVwieW91dHViZS1ub2Nvb2tpZS5jb21cIl0nLFxuICAgICAgJ2lmcmFtZVtzcmMqPVwia2lja3N0YXJ0ZXIuY29tXCJdW3NyYyo9XCJ2aWRlby5odG1sXCJdJyxcbiAgICBdO1xuXG4gICAgY29uc3QgJGFsbFZpZGVvcyA9ICQodGhpcykuZmluZChzZWxlY3RvcnMuam9pbignLCcpKTtcblxuICAgICRhbGxWaWRlb3MuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLndyYXAoJzxhc2lkZSBjbGFzcz1cInZpZGVvLXJlc3BvbnNpdmVcIj48L2FzaWRlPicpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyogRmFjZWJvb2sgQ29tbWVudHMgQ291bnRzICovXG5mdW5jdGlvbiBmYWNlYm9va1NoYXJlQ291bnQoc2hhcmVib3gpIHtcbiAgc2hhcmVib3guZWFjaCgoKSA9PiB7XG4gICAgY29uc3QgdXJsID0gc2hhcmVib3guYXR0cignZ29kby11cmwnKTtcbiAgICBjb25zdCBnZXRVUkwgPSBgaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vP2lkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHVybCl9JmNhbGxiYWNrPT9gO1xuXG4gICAgJC5nZXRKU09OKGdldFVSTCwgKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5zaGFyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG4gPSByZXMuc2hhcmUuc2hhcmVfY291bnQ7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gY29udmVydE51bWJlcihuKTtcbiAgICAgICAgc2hhcmVib3guaHRtbChjb3VudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmb2xsb3c6IGZvbGxvd01lLFxuICB2aWRlb1Jlc3BvbnNpdmU6IGFsbFZpZGVvUmVzcG9uc2l2ZSxcbiAgZmFjZWJvb2tTaGFyZTogZmFjZWJvb2tTaGFyZUNvdW50LFxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9hcHAvYXBwLmhlbHBlci5qcyIsIi8qXG4qIEBwYWNrYWdlIGdvZG9mcmVkb25pbmphXG4qIFNoYXJlIHNvY2lhbCBtZWRpYVxuKi9cblxuY2xhc3MgbWFwYWNoZVNoYXJlIHtcbiAgY29uc3RydWN0b3IoZWxlbSkge1xuICAgIHRoaXMuZWxlbSA9IGVsZW07XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIEhlbHBlciB0byBnZXQgdGhlIGF0dHJpYnV0ZSBvZiBhIERPTSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIERPTSBlbGVtZW50IGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyB7U3RyaW5nfEVtcHR5fSByZXR1cm5zIHRoZSBhdHRyIHZhbHVlIG9yIGVtcHR5IHN0cmluZ1xuICAgKi9cbiAgbWFwYWNoZVZhbHVlKGEpIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLmVsZW0uYXR0cihgbWFwYWNoZS0ke2F9YCk7XG4gICAgcmV0dXJuICh2YWwgPT09IHVuZGVmaW5lZCB8fCB2YWwgPT09IG51bGwpID8gZmFsc2UgOiB2YWw7XG4gIH1cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIE1haW4gc2hhcmUgZXZlbnQuIFdpbGwgcG9wIGEgd2luZG93IG9yIHJlZGlyZWN0IHRvIGEgbGlua1xuICAgKi9cbiAgbWFwYWNoZVNoYXJlKCkge1xuICAgIGNvbnN0IHNvY2lhbE1lZGlhTmFtZSA9IHRoaXMubWFwYWNoZVZhbHVlKCdzaGFyZScpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBjb25zdCBzb2NpYWxNZWRpYSA9IHtcbiAgICAgIGZhY2Vib29rOiB7XG4gICAgICAgIHNoYXJlVXJsOiAnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci9zaGFyZXIucGhwJyxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgdXJsOiB0aGlzLm1hcGFjaGVWYWx1ZSgndXJsJyksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgdHdpdHRlcjoge1xuICAgICAgICBzaGFyZVVybDogJ2h0dHBzOi8vdHdpdHRlci5jb20vaW50ZW50L3R3ZWV0LycsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIHRleHQ6IHRoaXMubWFwYWNoZVZhbHVlKCd0aXRsZScpLFxuICAgICAgICAgIHVybDogdGhpcy5tYXBhY2hlVmFsdWUoJ3VybCcpLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJlZGRpdDoge1xuICAgICAgICBzaGFyZVVybDogJ2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vc3VibWl0JyxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgdXJsOiB0aGlzLm1hcGFjaGVWYWx1ZSgndXJsJyksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGludGVyZXN0OiB7XG4gICAgICAgIHNoYXJlVXJsOiAnaHR0cHM6Ly93d3cucGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8nLFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICB1cmw6IHRoaXMubWFwYWNoZVZhbHVlKCd1cmwnKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5tYXBhY2hlVmFsdWUoJ3RpdGxlJyksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbGlua2VkaW46IHtcbiAgICAgICAgc2hhcmVVcmw6ICdodHRwczovL3d3dy5saW5rZWRpbi5jb20vc2hhcmVBcnRpY2xlJyxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgdXJsOiB0aGlzLm1hcGFjaGVWYWx1ZSgndXJsJyksXG4gICAgICAgICAgbWluaTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwb2NrZXQ6IHtcbiAgICAgICAgc2hhcmVVcmw6ICdodHRwczovL2dldHBvY2tldC5jb20vc2F2ZScsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIHVybDogdGhpcy5tYXBhY2hlVmFsdWUoJ3VybCcpLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc29jaWFsID0gc29jaWFsTWVkaWFbc29jaWFsTWVkaWFOYW1lXTtcblxuICAgIHJldHVybiBzb2NpYWwgIT09IHVuZGVmaW5lZCA/IHRoaXMubWFwYWNoZVBvcHVwKHNvY2lhbCkgOiBmYWxzZTtcbiAgfVxuXG4gIC8qIHdpbmRvd3MgUG9wdXAgKi9cbiAgbWFwYWNoZVBvcHVwKHNoYXJlKSB7XG4gICAgY29uc3QgcCA9IHNoYXJlLnBhcmFtcyB8fCB7fTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocCk7XG5cbiAgICBsZXQgc29jaWFsTWVkaWFVcmwgPSBzaGFyZS5zaGFyZVVybDtcbiAgICBsZXQgc3RyID0ga2V5cy5sZW5ndGggPiAwID8gJz8nIDogJyc7XG5cbiAgICBmb3IgKGNvbnN0IGkgaW4ga2V5cykge1xuICAgICAgaWYgKHN0ciAhPT0gJz8nKSB7XG4gICAgICAgIHN0ciArPSAnJic7XG4gICAgICB9XG4gICAgICBpZiAocFtrZXlzW2ldXSkge1xuICAgICAgICBzdHIgKz0gYCR7a2V5c1tpXX09JHtlbmNvZGVVUklDb21wb25lbnQocFtrZXlzW2ldXSl9YDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzb2NpYWxNZWRpYVVybCArPSBzdHI7XG5cbiAgICBpZiAoIXNoYXJlLmlzTGluaykge1xuICAgICAgY29uc3QgcG9wV2lkdGggPSA2MDA7XG4gICAgICBjb25zdCBwb3BIZWlnaHQgPSA0ODA7XG4gICAgICBjb25zdCBsZWZ0ID0gKCh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpIC0gKHBvcFdpZHRoIC8gMikpICsgd2luZG93LnNjcmVlblg7XG4gICAgICBjb25zdCB0b3AgPSAoKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpIC0gKHBvcEhlaWdodCAvIDIpKSArIHdpbmRvdy5zY3JlZW5ZO1xuXG4gICAgICBjb25zdCBwb3BQYXJhbXMgPSBgc2Nyb2xsYmFycz1ubywgd2lkdGg9JHtwb3BXaWR0aH0sIGhlaWdodD0ke3BvcEhlaWdodH0sIHRvcD0ke3RvcH0sIGxlZnQ9JHtsZWZ0fWA7XG4gICAgICBjb25zdCBuZXdXaW5kb3cgPSB3aW5kb3cub3Blbihzb2NpYWxNZWRpYVVybCwgJycsIHBvcFBhcmFtcyk7XG5cbiAgICAgIGlmICh3aW5kb3cuZm9jdXMpIHtcbiAgICAgICAgbmV3V2luZG93LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gc29jaWFsTWVkaWFVcmw7XG4gICAgfVxuICB9XG59XG5cbi8qIEV4cG9ydCBDbGFzcyAqL1xubW9kdWxlLmV4cG9ydHMgPSBtYXBhY2hlU2hhcmU7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvYXBwL2FwcC5zaGFyZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=