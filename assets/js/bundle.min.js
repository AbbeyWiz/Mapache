/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _app = __webpack_require__(1);
	
	var _app2 = _interopRequireDefault(_app);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	/* variables globals */
	var $doc = $(document); /*
	                        @package godofredoninja
	                        
	                        ========================================================================
	                        Mapache Javascript Functions
	                        ========================================================================
	                        */
	
	// import ghostHunter from './lib/jquery.ghostHunter'; // eslint-disable-line
	
	var $win = $(window);
	
	var $header = $('#header');
	var $searchInput = $('.search-field');
	var $cover = $('#cover');
	var $postBody = $('.post-body');
	var $followBox = $('.social_box');
	var $scrollTop = $('.scroll_top');
	var $videoFormatBox = $('#video-format');
	var $shareCount = $('.share-count');
	
	var $pageUrl = $('body').attr('mapache-page-url');
	
	var urlRegexp = /^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \+\.-]*)*\/?$/; // eslint-disable-line
	
	/* Menu open and close for mobile */
	$('#nav-mob-toggle').on('click', function (e) {
	  e.preventDefault();
	  $('body').toggleClass('is-showNavMob');
	});
	
	/* Seach open and close for Mobile */
	$('#search-mob-toggle').on('click', function (e) {
	  e.preventDefault();
	  $header.toggleClass('is-showSearchMob');
	  $searchInput.focus();
	});
	
	/**
	 * Search open an close desktop.
	 * Api ghost for search
	 */
	$doc.on('ready', function () {
	  $searchInput.focus(function () {
	    $header.addClass('is-showSearch');
	    $('.search-popout').removeClass('closed');
	  }).blur(function () {
	    setTimeout(function () {
	      $header.removeClass('is-showSearch');
	      $('.search-popout').addClass('closed');
	    }, 200);
	  }).keyup(function () {
	    $('.search-suggest-results').css('display', 'block');
	  });
	
	  // $searchInput.ghostHunter({
	  //   results: '#search-results',
	  //   zeroResultsInfo: false,
	  //   displaySearchInfo: false,
	  //   result_template: `<a href="${$pageUrl}{{link}}">{{title}}</a>`,
	  //   onKeyUp: true,
	  // });
	});
	
	/* Header box shadow and transparent */
	function headerBackground() {
	  var scrollTop = $win.scrollTop();
	  var coverHeight = $cover.height() - $header.height();
	  var coverWrap = (coverHeight - scrollTop) / coverHeight;
	  if (scrollTop >= coverHeight) {
	    $header.addClass('toolbar-shadow').removeAttr('style');
	  } else {
	    $header.removeClass('toolbar-shadow').css({ background: 'transparent' });
	  }
	  $('.cover-wrap').css('opacity', coverWrap);
	}
	
	/* scroll link width click (ID)*/
	$('.scrolltop').on('click', function (e) {
	  e.preventDefault();
	  $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top - 50 }, 500, 'linear');
	});
	
	/* Scroll  */
	$scrollTop.on('click', function (e) {
	  e.preventDefault();
	  $('html, body').animate({ scrollTop: 0 }, 500);
	});
	
	/* Disqus Comment */
	function disqusComments(shortname) {
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}
	
	/* Video Post Format */
	function videoPostFormat() {
	  $('.post-image').css('display', 'none');
	  var video = $('iframe[src*="youtube.com"]')[0];
	  $videoFormatBox.find('.video-featured').prepend(video);
	
	  if (typeof youtubeChannel !== 'undefined') {
	    $videoFormatBox.find('.video-content').removeAttr('style');
	
	    $.each(youtubeChannel, function (channelName, channelId) {
	      // eslint-disable-line
	      $videoFormatBox.find('.channel-name').html('Subscribe to <strong>' + channelName + '</strong>');
	      $('.g-ytsubscribe').attr('data-channelid', channelId);
	    });
	
	    var go = document.createElement('script');
	    go.type = 'text/javascript';
	    go.async = true;
	    go.src = 'https://apis.google.com/js/platform.js';
	    // document.body.appendChild(go);
	    var s = document.getElementsByTagName('script')[0];
	    s.parentNode.insertBefore(go, s);
	  }
	}
	
	$win.on('scroll', function () {
	  /* Add background Header */
	  if ($cover.length > 0) headerBackground();
	
	  /* show btn SctrollTop */
	  if ($(this).scrollTop() > 100) {
	    $scrollTop.addClass('visible');
	  } else {
	    $scrollTop.removeClass('visible');
	  }
	});
	
	$doc.on('ready', function () {
	  /* Change title home */
	  if (typeof titleHome !== 'undefined') $('#title-home').html(titleHome); // eslint-disable-line
	
	  /* FollowMe */
	  if (typeof followSocialMedia !== 'undefined') _app2.default.follow(followSocialMedia, $followBox, urlRegexp); // eslint-disable-line
	
	  /* Facebook Share Count */
	  _app2.default.facebookShare($shareCount);
	
	  /* Video Post Format*/
	  videoPostFormat();
	
	  /* Video Responsive*/
	  _app2.default.videoResponsive($postBody);
	
	  /* Disqys Comments */
	  if (typeof disqusShortname !== 'undefined') disqusComments(disqusShortname); // eslint-disable-line
	});

/***/ },
/* 1 */
/***/ function(module, exports) {

	'use strict';
	
	/* Return rounded and pretty value of share count. */
	var convertNumber = function convertNumber(n) {
	  if (n >= 1000000000) return (n / 1000000000).toFixed(1) + 'G';
	  if (n >= 1000000) return (n / 1000000).toFixed(1) + 'M';
	  if (n >= 1000) return (n / 1000).toFixed(1) + 'K';
	  return n;
	};
	
	/* add social follow  */
	function followMe(links, box, urlRegexp) {
	  return $.each(links, function (name, url) {
	    if (typeof url === 'string' && urlRegexp.test(url)) {
	      var template = '<a title="' + name + '" href="' + url + '" target="_blank" class="i-' + name + '"></a>';
	      box.append(template);
	    }
	  });
	}
	
	/* search all video in <post-body>  for Responsive*/
	function allVideoResponsive(elem) {
	  return elem.each(function () {
	    var selectors = ['iframe[src*="player.vimeo.com"]', 'iframe[src*="youtube.com"]', 'iframe[src*="youtube-nocookie.com"]', 'iframe[src*="kickstarter.com"][src*="video.html"]'];
	
	    var $allVideos = $(this).find(selectors.join(','));
	
	    $allVideos.each(function () {
	      $(this).wrap('<aside class="video-responsive"></aside>');
	    });
	  });
	}
	
	/* Facebook Comments Counts */
	function facebookShareCount(sharebox) {
	  sharebox.each(function () {
	    var url = sharebox.attr('godo-url');
	    var getURL = 'https://graph.facebook.com/?id=' + encodeURIComponent(url) + '&callback=?';
	
	    $.getJSON(getURL, function (res) {
	      if (res.share !== undefined) {
	        var n = res.share.share_count;
	        var count = convertNumber(n);
	        sharebox.html(count);
	      }
	    });
	  });
	}
	
	module.exports = {
	  follow: followMe,
	  videoResponsive: allVideoResponsive,
	  facebookShare: facebookShareCount
	};

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYzE4Y2RmZjAwZTkwNWNkMDNhYjQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvYXBwL2FwcC5oZWxwZXIuanMiXSwibmFtZXMiOlsiJGRvYyIsIiQiLCJkb2N1bWVudCIsIiR3aW4iLCJ3aW5kb3ciLCIkaGVhZGVyIiwiJHNlYXJjaElucHV0IiwiJGNvdmVyIiwiJHBvc3RCb2R5IiwiJGZvbGxvd0JveCIsIiRzY3JvbGxUb3AiLCIkdmlkZW9Gb3JtYXRCb3giLCIkc2hhcmVDb3VudCIsIiRwYWdlVXJsIiwiYXR0ciIsInVybFJlZ2V4cCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlQ2xhc3MiLCJmb2N1cyIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJibHVyIiwic2V0VGltZW91dCIsImtleXVwIiwiY3NzIiwiaGVhZGVyQmFja2dyb3VuZCIsInNjcm9sbFRvcCIsImNvdmVySGVpZ2h0IiwiaGVpZ2h0IiwiY292ZXJXcmFwIiwicmVtb3ZlQXR0ciIsImJhY2tncm91bmQiLCJhbmltYXRlIiwib2Zmc2V0IiwidG9wIiwiZGlzcXVzQ29tbWVudHMiLCJzaG9ydG5hbWUiLCJkc3EiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImFzeW5jIiwic3JjIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsInZpZGVvUG9zdEZvcm1hdCIsInZpZGVvIiwiZmluZCIsInByZXBlbmQiLCJ5b3V0dWJlQ2hhbm5lbCIsImVhY2giLCJjaGFubmVsTmFtZSIsImNoYW5uZWxJZCIsImh0bWwiLCJnbyIsInMiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwibGVuZ3RoIiwidGl0bGVIb21lIiwiZm9sbG93U29jaWFsTWVkaWEiLCJmb2xsb3ciLCJmYWNlYm9va1NoYXJlIiwidmlkZW9SZXNwb25zaXZlIiwiZGlzcXVzU2hvcnRuYW1lIiwiY29udmVydE51bWJlciIsIm4iLCJ0b0ZpeGVkIiwiZm9sbG93TWUiLCJsaW5rcyIsImJveCIsIm5hbWUiLCJ1cmwiLCJ0ZXN0IiwidGVtcGxhdGUiLCJhcHBlbmQiLCJhbGxWaWRlb1Jlc3BvbnNpdmUiLCJlbGVtIiwic2VsZWN0b3JzIiwiJGFsbFZpZGVvcyIsImpvaW4iLCJ3cmFwIiwiZmFjZWJvb2tTaGFyZUNvdW50Iiwic2hhcmVib3giLCJnZXRVUkwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJnZXRKU09OIiwicmVzIiwic2hhcmUiLCJ1bmRlZmluZWQiLCJzaGFyZV9jb3VudCIsImNvdW50IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7OztBQzVCQTs7Ozs7O0FBRUE7QUFDQSxLQUFNQSxPQUFPQyxFQUFFQyxRQUFGLENBQWIsQyxDQWJBOzs7Ozs7OztBQVFBOztBQU1BLEtBQU1DLE9BQU9GLEVBQUVHLE1BQUYsQ0FBYjs7QUFFQSxLQUFNQyxVQUFVSixFQUFFLFNBQUYsQ0FBaEI7QUFDQSxLQUFNSyxlQUFlTCxFQUFFLGVBQUYsQ0FBckI7QUFDQSxLQUFNTSxTQUFTTixFQUFFLFFBQUYsQ0FBZjtBQUNBLEtBQU1PLFlBQVlQLEVBQUUsWUFBRixDQUFsQjtBQUNBLEtBQU1RLGFBQWFSLEVBQUUsYUFBRixDQUFuQjtBQUNBLEtBQU1TLGFBQWFULEVBQUUsYUFBRixDQUFuQjtBQUNBLEtBQU1VLGtCQUFrQlYsRUFBRSxlQUFGLENBQXhCO0FBQ0EsS0FBTVcsY0FBY1gsRUFBRSxjQUFGLENBQXBCOztBQUVBLEtBQU1ZLFdBQVdaLEVBQUUsTUFBRixFQUFVYSxJQUFWLENBQWUsa0JBQWYsQ0FB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ekIsV0FBSUEsSUFBSUMsS0FBSixLQUFjQyxTQUFsQixFQUE2QjtBQUMzQixhQUFNdkIsSUFBSXFCLElBQUlDLEtBQUosQ0FBVUUsV0FBcEI7QUFDQSxhQUFNQyxRQUFRMUIsY0FBY0MsQ0FBZCxDQUFkO0FBQ0FpQixrQkFBUzlCLElBQVQsQ0FBY3NDLEtBQWQ7QUFDRDtBQUNGLE1BTkQ7QUFPRCxJQVhEO0FBWUQ7O0FBR0RDLFFBQU9DLE9BQVAsR0FBaUI7QUFDZmhDLFdBQVFPLFFBRE87QUFFZkwsb0JBQWlCYSxrQkFGRjtBQUdmZCxrQkFBZW9CO0FBSEEsRUFBakIsQyIsImZpbGUiOiJidW5kbGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgYzE4Y2RmZjAwZTkwNWNkMDNhYjQiLCIvKlxuQHBhY2thZ2UgZ29kb2ZyZWRvbmluamFcblxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5NYXBhY2hlIEphdmFzY3JpcHQgRnVuY3Rpb25zXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiovXG5cbi8vIGltcG9ydCBnaG9zdEh1bnRlciBmcm9tICcuL2xpYi9qcXVlcnkuZ2hvc3RIdW50ZXInOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbmltcG9ydCBNYXBhY2hlIGZyb20gJy4vYXBwL2FwcC5oZWxwZXInO1xuXG4vKiB2YXJpYWJsZXMgZ2xvYmFscyAqL1xuY29uc3QgJGRvYyA9ICQoZG9jdW1lbnQpO1xuY29uc3QgJHdpbiA9ICQod2luZG93KTtcblxuY29uc3QgJGhlYWRlciA9ICQoJyNoZWFkZXInKTtcbmNvbnN0ICRzZWFyY2hJbnB1dCA9ICQoJy5zZWFyY2gtZmllbGQnKTtcbmNvbnN0ICRjb3ZlciA9ICQoJyNjb3ZlcicpO1xuY29uc3QgJHBvc3RCb2R5ID0gJCgnLnBvc3QtYm9keScpO1xuY29uc3QgJGZvbGxvd0JveCA9ICQoJy5zb2NpYWxfYm94Jyk7XG5jb25zdCAkc2Nyb2xsVG9wID0gJCgnLnNjcm9sbF90b3AnKTtcbmNvbnN0ICR2aWRlb0Zvcm1hdEJveCA9ICQoJyN2aWRlby1mb3JtYXQnKTtcbmNvbnN0ICRzaGFyZUNvdW50ID0gJCgnLnNoYXJlLWNvdW50Jyk7XG5cbmNvbnN0ICRwYWdlVXJsID0gJCgnYm9keScpLmF0dHIoJ21hcGFjaGUtcGFnZS11cmwnKTtcblxuY29uc3QgdXJsUmVnZXhwID0gL14oaHR0cHM/OlxcL1xcLyk/KFtcXGRhLXpcXC4tXSspXFwuKFthLXpcXC5dezIsNn0pKFtcXC9cXHcgXFwrXFwuLV0qKSpcXC8/JC87IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuLyogTWVudSBvcGVuIGFuZCBjbG9zZSBmb3IgbW9iaWxlICovXG4kKCcjbmF2LW1vYi10b2dnbGUnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICQoJ2JvZHknKS50b2dnbGVDbGFzcygnaXMtc2hvd05hdk1vYicpO1xufSk7XG5cbi8qIFNlYWNoIG9wZW4gYW5kIGNsb3NlIGZvciBNb2JpbGUgKi9cbiQoJyNzZWFyY2gtbW9iLXRvZ2dsZScpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgJGhlYWRlci50b2dnbGVDbGFzcygnaXMtc2hvd1NlYXJjaE1vYicpO1xuICAkc2VhcmNoSW5wdXQuZm9jdXMoKTtcbn0pO1xuXG4vKipcbiAqIFNlYXJjaCBvcGVuIGFuIGNsb3NlIGRlc2t0b3AuXG4gKiBBcGkgZ2hvc3QgZm9yIHNlYXJjaFxuICovXG4kZG9jLm9uKCdyZWFkeScsICgpID0+IHtcbiAgJHNlYXJjaElucHV0XG4gICAgLmZvY3VzKCgpID0+IHtcbiAgICAgICRoZWFkZXIuYWRkQ2xhc3MoJ2lzLXNob3dTZWFyY2gnKTtcbiAgICAgICQoJy5zZWFyY2gtcG9wb3V0JykucmVtb3ZlQ2xhc3MoJ2Nsb3NlZCcpO1xuICAgIH0pXG4gICAgLmJsdXIoKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICRoZWFkZXIucmVtb3ZlQ2xhc3MoJ2lzLXNob3dTZWFyY2gnKTtcbiAgICAgICAgJCgnLnNlYXJjaC1wb3BvdXQnKS5hZGRDbGFzcygnY2xvc2VkJyk7XG4gICAgICB9LCAyMDApO1xuICAgIH0pXG4gICAgLmtleXVwKCgpID0+IHtcbiAgICAgICQoJy5zZWFyY2gtc3VnZ2VzdC1yZXN1bHRzJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgfSk7XG5cbiAgLy8gJHNlYXJjaElucHV0Lmdob3N0SHVudGVyKHtcbiAgLy8gICByZXN1bHRzOiAnI3NlYXJjaC1yZXN1bHRzJyxcbiAgLy8gICB6ZXJvUmVzdWx0c0luZm86IGZhbHNlLFxuICAvLyAgIGRpc3BsYXlTZWFyY2hJbmZvOiBmYWxzZSxcbiAgLy8gICByZXN1bHRfdGVtcGxhdGU6IGA8YSBocmVmPVwiJHskcGFnZVVybH17e2xpbmt9fVwiPnt7dGl0bGV9fTwvYT5gLFxuICAvLyAgIG9uS2V5VXA6IHRydWUsXG4gIC8vIH0pO1xufSk7XG5cbi8qIEhlYWRlciBib3ggc2hhZG93IGFuZCB0cmFuc3BhcmVudCAqL1xuZnVuY3Rpb24gaGVhZGVyQmFja2dyb3VuZCgpIHtcbiAgY29uc3Qgc2Nyb2xsVG9wID0gJHdpbi5zY3JvbGxUb3AoKTtcbiAgY29uc3QgY292ZXJIZWlnaHQgPSAkY292ZXIuaGVpZ2h0KCkgLSAkaGVhZGVyLmhlaWdodCgpO1xuICBjb25zdCBjb3ZlcldyYXAgPSAoY292ZXJIZWlnaHQgLSBzY3JvbGxUb3ApIC8gY292ZXJIZWlnaHQ7XG4gIGlmIChzY3JvbGxUb3AgPj0gY292ZXJIZWlnaHQpIHtcbiAgICAkaGVhZGVyLmFkZENsYXNzKCd0b29sYmFyLXNoYWRvdycpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG4gIH0gZWxzZSB7XG4gICAgJGhlYWRlci5yZW1vdmVDbGFzcygndG9vbGJhci1zaGFkb3cnKS5jc3MoeyBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnIH0pO1xuICB9XG4gICQoJy5jb3Zlci13cmFwJykuY3NzKCdvcGFjaXR5JywgY292ZXJXcmFwKTtcbn1cblxuLyogc2Nyb2xsIGxpbmsgd2lkdGggY2xpY2sgKElEKSovXG4kKCcuc2Nyb2xsdG9wJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogJCgkKHRoaXMpLmF0dHIoJ2hyZWYnKSkub2Zmc2V0KCkudG9wIC0gNTAgfSwgNTAwLCAnbGluZWFyJyk7XG59KTtcblxuLyogU2Nyb2xsICAqL1xuJHNjcm9sbFRvcC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDUwMCk7XG59KTtcblxuLyogRGlzcXVzIENvbW1lbnQgKi9cbmZ1bmN0aW9uIGRpc3F1c0NvbW1lbnRzKHNob3J0bmFtZSkge1xuICBjb25zdCBkc3EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgZHNxLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgZHNxLmFzeW5jID0gdHJ1ZTtcbiAgZHNxLnNyYyA9IGAvLyR7c2hvcnRuYW1lfS5kaXNxdXMuY29tL2VtYmVkLmpzYDtcbiAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0gfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSkuYXBwZW5kQ2hpbGQoZHNxKTtcbn1cblxuLyogVmlkZW8gUG9zdCBGb3JtYXQgKi9cbmZ1bmN0aW9uIHZpZGVvUG9zdEZvcm1hdCgpIHtcbiAgJCgnLnBvc3QtaW1hZ2UnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICBjb25zdCB2aWRlbyA9ICQoJ2lmcmFtZVtzcmMqPVwieW91dHViZS5jb21cIl0nKVswXTtcbiAgJHZpZGVvRm9ybWF0Qm94LmZpbmQoJy52aWRlby1mZWF0dXJlZCcpLnByZXBlbmQodmlkZW8pO1xuXG4gIGlmICh0eXBlb2YgeW91dHViZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgJHZpZGVvRm9ybWF0Qm94LmZpbmQoJy52aWRlby1jb250ZW50JykucmVtb3ZlQXR0cignc3R5bGUnKTtcblxuICAgICQuZWFjaCh5b3V0dWJlQ2hhbm5lbCwgKGNoYW5uZWxOYW1lLCBjaGFubmVsSWQpID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgJHZpZGVvRm9ybWF0Qm94LmZpbmQoJy5jaGFubmVsLW5hbWUnKS5odG1sKGBTdWJzY3JpYmUgdG8gPHN0cm9uZz4ke2NoYW5uZWxOYW1lfTwvc3Ryb25nPmApO1xuICAgICAgJCgnLmcteXRzdWJzY3JpYmUnKS5hdHRyKCdkYXRhLWNoYW5uZWxpZCcsIGNoYW5uZWxJZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBnbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIGdvLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICBnby5hc3luYyA9IHRydWU7XG4gICAgZ28uc3JjID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL3BsYXRmb3JtLmpzJztcbiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdvKTtcbiAgICBjb25zdCBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xuICAgIHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ28sIHMpO1xuICB9XG59XG5cblxuJHdpbi5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAvKiBBZGQgYmFja2dyb3VuZCBIZWFkZXIgKi9cbiAgaWYgKCRjb3Zlci5sZW5ndGggPiAwKSBoZWFkZXJCYWNrZ3JvdW5kKCk7XG5cbiAgLyogc2hvdyBidG4gU2N0cm9sbFRvcCAqL1xuICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDEwMCkge1xuICAgICRzY3JvbGxUb3AuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgfSBlbHNlIHtcbiAgICAkc2Nyb2xsVG9wLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gIH1cbn0pO1xuXG5cbiRkb2Mub24oJ3JlYWR5JywgKCkgPT4ge1xuICAvKiBDaGFuZ2UgdGl0bGUgaG9tZSAqL1xuICBpZiAodHlwZW9mIHRpdGxlSG9tZSAhPT0gJ3VuZGVmaW5lZCcpICQoJyN0aXRsZS1ob21lJykuaHRtbCh0aXRsZUhvbWUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgLyogRm9sbG93TWUgKi9cbiAgaWYgKHR5cGVvZiBmb2xsb3dTb2NpYWxNZWRpYSAhPT0gJ3VuZGVmaW5lZCcpIE1hcGFjaGUuZm9sbG93KGZvbGxvd1NvY2lhbE1lZGlhLCAkZm9sbG93Qm94LCB1cmxSZWdleHApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgLyogRmFjZWJvb2sgU2hhcmUgQ291bnQgKi9cbiAgTWFwYWNoZS5mYWNlYm9va1NoYXJlKCRzaGFyZUNvdW50KTtcblxuICAvKiBWaWRlbyBQb3N0IEZvcm1hdCovXG4gIHZpZGVvUG9zdEZvcm1hdCgpO1xuXG4gIC8qIFZpZGVvIFJlc3BvbnNpdmUqL1xuICBNYXBhY2hlLnZpZGVvUmVzcG9uc2l2ZSgkcG9zdEJvZHkpO1xuXG4gIC8qIERpc3F5cyBDb21tZW50cyAqL1xuICBpZiAodHlwZW9mIGRpc3F1c1Nob3J0bmFtZSAhPT0gJ3VuZGVmaW5lZCcpIGRpc3F1c0NvbW1lbnRzKGRpc3F1c1Nob3J0bmFtZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2FwcC5qcyIsIi8qIFJldHVybiByb3VuZGVkIGFuZCBwcmV0dHkgdmFsdWUgb2Ygc2hhcmUgY291bnQuICovXG5jb25zdCBjb252ZXJ0TnVtYmVyID0gKG4pID0+IHtcbiAgaWYgKG4gPj0gMTAwMDAwMDAwMCkgcmV0dXJuIGAkeyhuIC8gMTAwMDAwMDAwMCkudG9GaXhlZCgxKX1HYDtcbiAgaWYgKG4gPj0gMTAwMDAwMCkgcmV0dXJuIGAkeyhuIC8gMTAwMDAwMCkudG9GaXhlZCgxKX1NYDtcbiAgaWYgKG4gPj0gMTAwMCkgcmV0dXJuIGAkeyhuIC8gMTAwMCkudG9GaXhlZCgxKX1LYDtcbiAgcmV0dXJuIG47XG59O1xuXG4vKiBhZGQgc29jaWFsIGZvbGxvdyAgKi9cbmZ1bmN0aW9uIGZvbGxvd01lKGxpbmtzLCBib3gsIHVybFJlZ2V4cCkge1xuICByZXR1cm4gJC5lYWNoKGxpbmtzLCAobmFtZSwgdXJsKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnICYmIHVybFJlZ2V4cC50ZXN0KHVybCkpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gYDxhIHRpdGxlPVwiJHtuYW1lfVwiIGhyZWY9XCIke3VybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIiBjbGFzcz1cImktJHtuYW1lfVwiPjwvYT5gO1xuICAgICAgYm94LmFwcGVuZCh0ZW1wbGF0ZSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyogc2VhcmNoIGFsbCB2aWRlbyBpbiA8cG9zdC1ib2R5PiAgZm9yIFJlc3BvbnNpdmUqL1xuZnVuY3Rpb24gYWxsVmlkZW9SZXNwb25zaXZlKGVsZW0pIHtcbiAgcmV0dXJuIGVsZW0uZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2VsZWN0b3JzID0gW1xuICAgICAgJ2lmcmFtZVtzcmMqPVwicGxheWVyLnZpbWVvLmNvbVwiXScsXG4gICAgICAnaWZyYW1lW3NyYyo9XCJ5b3V0dWJlLmNvbVwiXScsXG4gICAgICAnaWZyYW1lW3NyYyo9XCJ5b3V0dWJlLW5vY29va2llLmNvbVwiXScsXG4gICAgICAnaWZyYW1lW3NyYyo9XCJraWNrc3RhcnRlci5jb21cIl1bc3JjKj1cInZpZGVvLmh0bWxcIl0nLFxuICAgIF07XG5cbiAgICBjb25zdCAkYWxsVmlkZW9zID0gJCh0aGlzKS5maW5kKHNlbGVjdG9ycy5qb2luKCcsJykpO1xuXG4gICAgJGFsbFZpZGVvcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICQodGhpcykud3JhcCgnPGFzaWRlIGNsYXNzPVwidmlkZW8tcmVzcG9uc2l2ZVwiPjwvYXNpZGU+Jyk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKiBGYWNlYm9vayBDb21tZW50cyBDb3VudHMgKi9cbmZ1bmN0aW9uIGZhY2Vib29rU2hhcmVDb3VudChzaGFyZWJveCkge1xuICBzaGFyZWJveC5lYWNoKCgpID0+IHtcbiAgICBjb25zdCB1cmwgPSBzaGFyZWJveC5hdHRyKCdnb2RvLXVybCcpO1xuICAgIGNvbnN0IGdldFVSTCA9IGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8/aWQ9JHtlbmNvZGVVUklDb21wb25lbnQodXJsKX0mY2FsbGJhY2s9P2A7XG5cbiAgICAkLmdldEpTT04oZ2V0VVJMLCAocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLnNoYXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgbiA9IHJlcy5zaGFyZS5zaGFyZV9jb3VudDtcbiAgICAgICAgY29uc3QgY291bnQgPSBjb252ZXJ0TnVtYmVyKG4pO1xuICAgICAgICBzaGFyZWJveC5odG1sKGNvdW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGZvbGxvdzogZm9sbG93TWUsXG4gIHZpZGVvUmVzcG9uc2l2ZTogYWxsVmlkZW9SZXNwb25zaXZlLFxuICBmYWNlYm9va1NoYXJlOiBmYWNlYm9va1NoYXJlQ291bnQsXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2FwcC9hcHAuaGVscGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==